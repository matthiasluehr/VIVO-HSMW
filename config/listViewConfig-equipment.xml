<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- $This file is distributed under the terms of the license in LICENSE$ -->

<!-- Custom list view config file for core:webpage

     See guidelines at https://wiki.duraspace.org/x/eYXVAw -->

<list-view-config>
    <query-select>
    	PREFIX vivo: &lt;http://vivoweb.org/ontology/core#&gt;
    	PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
    	PREFIX obo:      &lt;http://purl.obolibrary.org/obo/&gt;
    	PREFIX foaf:     &lt;http://xmlns.com/foaf/0.1/&gt;
    	PREFIX hsmw:     &lt;https://vivo.hs-mittweida.de/vivo/ontology/hsmw#&gt;
        PREFIX xsd:     &lt;http://www.w3.org/2001/XMLSchema#&gt;
	    PREFIX vitro: &lt;http://vitro.mannlib.cornell.edu/ns/vitro/0.7#&gt;

    	SELECT  DISTINCT ?subclass ?object ?devicename
        	   WHERE
        	 {
	    	    ?subject ?property ?object .
	    	    ?object vitro:mostSpecificType ?subclass .
                    ?object a vivo:Equipment .
                    ?object rdfs:label ?devicename .
                    FILTER NOT EXISTS { ?object &lt;https://vivo.hs-mittweida.de/vivo/ontology/hsmw#Ausserbetriebnahme&gt; ?dateOfRetirement }
        } ORDER BY ?subclass 
    </query-select>

    <template>hsmw-equipment.ftl</template>
</list-view-config>
